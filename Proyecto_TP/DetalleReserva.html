<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trabajo Final_contacto</title>
    <link rel="stylesheet" href="./css/estilos_contacto.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="icon" href="./imagenes/icon-draghy.ico" class="icon">
</head>

<body>
    <!-- contenedor principal -->
    <div class="contenedor-c">

        <!-- encabezado -->
        <header class="encabezado">
            <div class="enc-izq">
                <img src="./imagenes/logo3.PNG" alt="logo1">

            </div>

            <div class="enc-centro">
                <h1>Hotel Draghy</h1>

            </div>
            <div class="enc-der">
                <img src="./imagenes/logo3.PNG" alt="logo1">

            </div>

        </header>
        <!-- barra de navegacion -->
        <nav class="menu">
            <ul>
                <li><a href="index.html">Principal</a></li>
                <li><a href="Habitaciones.html">Habitaciones</a></li>
                <li><a href="Tarifas.html">Tarifas</a></li>
                <li><a href="Contacto.html">Contacto</a></li>
            </ul>

        </nav>
        <h2>Listado de Reserva</h2>
                
                <table>
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>dni</th>
                            <th>Huespedes</th>
                            <th align="right">FeIng</th>
                            <th align="right">FeEgr</th>
                            <th>email</th>
                        </tr>
                    </thead>
                    <tbody id="tablaProductos"> 
                    </tbody>
                </table>

                <div class="contenedor-centrado">
                    <a href="contacto.html">Volver</a>
                    <br><br>
                </div>

        <script>
            const URL = "http://127.0.0.1:5000/"
            //const URL = "https://arielfsp.pythonanywhere.com/"
            //const URL = "https://prueba23513.pythonanywhere.com/"
    
            // Realizamos la solicitud GET al servidor para obtener todos los productos
            fetch(URL + 'reserva')
                .then(function (response) {
                    if (response.ok) {return response.json(); }
                })
                .then(function (data) {
                    let tablaProductos = document.getElementById('tablaProductos');
    
                    // Iteramos sobre los productos y agregamos filas a la tabla
                    for (let reserva of data) {
                        let fila = document.createElement('tr');
                        fila.innerHTML = '<td>' + reserva.Codigo + '</td>' +
                            '<td>' + reserva.Nombre + '</td>' +
                            '<td align="right">' + reserva.Apellido + '</td>' +
                            '<td align="right">' + reserva.dni + '</td>' +
                            '<td align="right">' + reserva.FeIng + '</td>' +
                            '<td align="right">' + reserva.FeEgr + '</td>' +
                            '<td align="right">' + reserva.Hus + '</td>' +
                            '<td align="right">' + reserva.Email + '</td>' +
                            // Mostrar miniatura de la imagen
                            //'<td><img src=./static/imagenes/' + producto.imagen_url +' alt="Imagen del producto" style="width: 100px;"></td>' +
                            '<td align="right">' + reserva.Mensaje + '</td>';
                        tablaProductos.appendChild(fila);
                    }
                })
                .catch(function (error) {
                    // Código para manejar errores
                    alert('Error al querer ver las reservas.');
                });
        </script>
                    <!-- pie de pagina -->
        <footer class="pie">
                <div>
                    <p> &copy; 2023 Hotel Draghy</p>
                </div>
                <div class="iconos">
                    <a href="https://www.facebook.com/?locale=es_LA"><span class="fab fa-facebook"
                            title="Ir a facebook"></span></a>
                    <a href="https://www.instagram.com"><span class="fab fa-instagram"
                            title="Ir a Instagram"></span></a>
                    <a href="https://twitter.com/?lang=es"><span class="fab fa-twitter" title="Ir a Twitter"></span></a>
                    <a href="mailto: consultas@hoteldraghy.com?subject=contacto"><span class="fas fa-envelope"
                            title="Enviar correo"></span></a>
                </div>
        </footer>

</body>
</html>
